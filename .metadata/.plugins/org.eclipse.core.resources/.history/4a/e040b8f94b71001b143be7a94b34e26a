package com.paypal.bfs.test.employeeserv.service.impl;

import java.util.List;

import org.springframework.stereotype.Service;

import com.paypal.bfs.test.employeeserv.api.model.Address;
import com.paypal.bfs.test.employeeserv.api.model.Employee;
import com.paypal.bfs.test.employeeserv.dao.EmployeeRepository;
import com.paypal.bfs.test.employeeserv.domain.AddressEntity;
import com.paypal.bfs.test.employeeserv.domain.EmployeeEntity;
import com.paypal.bfs.test.employeeserv.service.EmployeeService;
import com.paypal.bfs.test.employeeserv.utils.EntityUtil;

@Service
public class EmployeeServiceImpl implements EmployeeService {

	private EmployeeRepository repository;

	public Employee getEmployee(String employeeId) {
		Employee employee = null;
		
		try {
			EmployeeEntity empEntity = repository.getOne(Long.parseLong(employeeId));
			employee = new EntityUtil<EmployeeEntity, Employee>().copyProperties(empEntity,  new Employee());
			List<Address> addresses = new List<Address>(1);
			empEntity.getAddress().forEach(a -> {
				Address address = new EntityUtil<AddressEntity, Address>().copyProperties(a, new Address());
			});
		} catch(Exception e) {
			e.printStackTrace();
		}
		
		return employee;
	}
}
